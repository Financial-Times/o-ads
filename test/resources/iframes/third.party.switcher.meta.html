<!DOCTYPE html>
<html>
  <head>
    <title>Testing meta configuration!</title>
    <!-- use GPT for ad calls -->
    <meta name="ftads:mode" content="gpt" />
    <meta name="metaconf1" content="metaconf1_val">

    <script src="../lib/jquery/jquery-1.7.2.js"></script>
    <script src="../lib/jquery/jquery.cookie.js"></script>
    <script src="../lib/sinon/sinon-1.1.1.js"></script>
    <script src="../lib/sinon/sinon-ie-1.1.1.js"></script>

    <script src="../js/thirdparty/third.party.namespace.js"></script>
    <script src="../js/ft/advertising.utils.js"></script>
    <script src="../js/ft/advertising.utils.cookie.js"></script>
    <script src="../js/thirdparty/third.party.config.js"></script>
    <script src="../js/thirdparty/third.party.targeting.js"></script>
    <script src="../js/thirdparty/third.party.slots.js"></script>
    <script src="../js/thirdparty/third.party.gpt.js"></script>
    <script src="../js/thirdparty/third.party.js"></script>
    <!-- spies -->
    <script>
        TEST = {};
        TEST.sinon = TEST.sinon || {};
        TEST.sinon.getTagSpy = sinon.spy(FT.env, "getTag");
        TEST.sinon.getAudSciSpy = sinon.spy(FT.env, "getAudSci");
        TEST.sinon.attach = sinon.stub(FT._ads.utils, "attach", function () {return true;});
    </script>
    <script src="../js/thirdparty/third.party.htsi.switcher.js"></script>
    <script>
        // this spy must be setup after the switcher has overriden the adCall method
        TEST.sinon.adCallSpy = sinon.spy(FT.env, "adCall");
    </script>

  </head>
  <body>
    <h1 id="qunit-header">Testing meta configuration</h1>

    <div id="adCalls">
        <div id="banlb">
            <h2>banlb</h2>
            <script>
            FT.env.adCall('banlb');
            </script>
        </div>
        <div id="newssubs">
            <h2>newssubs</h2>
            <script>
            FT.env.adCall('newssubs');
            </script>
        </div>
        <div id="hlfmpu">
            <h2>hlfmpu</h2>
            <script>
            FT.env.adCall('hlfmpu');
            </script>
        <div id="mpu">
            <h2>mpu</h2>
            <script>
            FT.env.adCall('mpu');
            </script>
        </div>
        <div id="mpusky">
            <h2>mpusky</h2>
            <script>
            FT.env.adCall('mpusky');
            </script>
        <div id="invalidpos">
            <h2>invalidpos</h2>
            <script>
            FT.env.adCall('invalidpos');
            </script>
        </div>
    </div>
  </body>
</html>
