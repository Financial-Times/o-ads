<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <title></title>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
  <script type="text/javascript" src="../js/shCore.js"></script>
  <script type="text/javascript" src="../js/shBrushJScript.js"></script>
  <link href="../css/jshint.css" rel="stylesheet" />
  <link href="../css/shCore.css" rel="stylesheet" type="text/css" />
  <link href="../css/shThemeDefault.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <h1 id="file-name">hello</h1>
  <pre id="file-content" class="brush: js">loading...</pre>
  <script>
  (function (w, d, $, u) {
    var filename = location.search.match(/(file=)([\w\.\/]+)([\&\:])?/i)[2],
        line = location.search.match(/(line=)([\d]+)([\&\:])?/i)[2],
        reason = decodeURIComponent(location.search.match(/(reason=)(.+)([\&\:])?/i)[2]),
        header = $('#file-name'),
        content = $('#file-content');
        header.text(filename);

    if (!location.origin){
      location.origin = loction.protocol + '//' + location.host;
    }

    function scrollToandHighlightLine () {
        var lineEl = $('.number' + line),
            topPos = lineEl.position().top;

        lineEl.attr('title', reason).addClass('error');
        $(d).scrollTop(topPos);
    }

    function highlight (next) {
        SyntaxHighlighter.highlight();
        /* SyntaxHighlighter doesn't provide a onComplete callback so do this*/
        setTimeout(function () {
            if (SyntaxHighlighter.findElements().length === 0) {
               next();
            } else {
                arguments.callee();
            }
        }, 200);
    }

    $.ajax(location.origin + '/target/classes' + filename).complete(function (data) {
        content.text(data.responseText);
        highlight(scrollToandHighlightLine);
    });
  }(window, document, jQuery))
  </script>
</body>
</html>
