/*!
 * jQuery Transit - CSS3 transitions and transformations
 * Copyright(c) 2011 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(c){function k(a){var b=["Moz","Webkit","O","ms"],d=a.charAt(0).toUpperCase()+a.substr(1);if(a in l.style)return a;for(a=0;a<b.length;++a){var c=b[a]+d;if(c in l.style)return c}}function j(a){"string"===typeof a&&this.parse(a);return this}function r(a,b,d){!0===b?a.queue(d):b?a.queue(b,d):d()}function n(a){var b=[];c.each(a,function(a){a=c.camelCase(a);a=c.transit.propertyMap[a]||a;a=t(a);-1===b.indexOf(a)&&b.push(a)});return b}function s(a,b,d,q){a=n(a);c.cssEase[d]&&(d=c.cssEase[d]);var f=
""+o(b)+" "+d;0<parseInt(q)&&(f+=" "+o(q));var e=[];c.each(a,function(a,b){e.push(b+" "+f)});return e.join(", ")}function e(a,b){b||(c.cssNumber[a]=!0);c.transit.propertyMap[a]=h.transform;c.cssHooks[a]={get:function(b){return(c(b).css("transform")||new j).get(a)},set:function(b,e){var f=c(b).css("transform")||new j;f.setFromString(a,e);c(b).css({transform:f})}}}function t(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function g(a,b){return"string"===typeof a&&!a.match(/^[\-0-9\.]+$/)?
a:""+a+b}function o(a){c.fx.speeds[a]&&(a=c.fx.speeds[a]);return g(a,"ms")}c.transit={version:"0.1.1",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0};var l=document.createElement("div"),h={transition:k("transition"),transitionDelay:k("transitionDelay"),transform:k("transform"),transformOrigin:k("transformOrigin")};c.extend(c.support,h);var p={MozTransition:"transitionend",
OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[h.transition]||null,l=null;c.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"};c.cssHooks.transform={get:function(a){return c(a).data("transform")},set:function(a,b){var d=b;d instanceof j||(d=new j(d));a.style[h.transform]="WebkitTransform"==h.transform?d.toString(!0):d.toString();c(a).data("transform",d)}};c.cssHooks.transformOrigin={get:function(a){return a.style[h.transformOrigin]},
set:function(a,b){a.style[h.transformOrigin]=b}};e("scale");e("translate");e("rotate");e("rotateX");e("rotateY");e("rotate3d");e("perspective");e("skewX");e("skewY");e("x",!0);e("y",!0);j.prototype={setFromString:function(a,b){var c="string"===typeof b?b.split(","):b.constructor==Array?b:[b];c.unshift(a);j.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?
this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=g(a,"deg")},rotateX:function(a){this.rotateX=g(a,"deg")},rotateY:function(a){this.rotateY=g(a,"deg")},scale:function(a,b){void 0===b&&(b=a);this.scale=a+","+b},skewX:function(a){this.skewX=g(a,"deg")},skewY:function(a){this.skewY=g(a,"deg")},perspective:function(a){this.perspective=g(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){if(void 0===this._translateX)this._translateX=
0;if(void 0===this._translateY)this._translateY=0;if(null!==a)this._translateX=g(a,"px");if(null!==b)this._translateY=g(b,"px");this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");a[0]&&(a[0]=parseFloat(a[0]));a[1]&&(a[1]=parseFloat(a[1]));return a[0]==a[1]?a[0]:a},rotate3d:function(){var a=(this.rotate3d||"0,0,0,0deg").split(",");for(i=0;3>=i;++i)a[i]&&
(a[i]=parseFloat(a[i]));a[3]&&(a[3]=g(a[3],"deg"));return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,f){b.setFromString(c,f)})},toString:function(a){var b=[];for(i in this)this.hasOwnProperty(i)&&"_"!==i[0]&&(a&&("scale"===i||"translate"===i)?b.push(i+"3d("+this[i]+",0)"):b.push(i+"("+this[i]+")"));return b.join(" ")}};c.fn.transition=c.fn.transit=function(a,b,d,e){var f=this,g=0,j=!0;"function"===typeof b&&(e=b,b=null);"function"===typeof d&&(e=d,d=null);if(a.easing)d=
a.easing,delete a.easing;if(a.duration)b=a.duration,delete a.duration;if(a.complete)e=a.complete,delete a.complete;if(a.queue)j=a.queue,delete a.queue;if(a.delay)g=a.delay,delete a.delay;if(null==b)b=c.fx.speeds._default;if(null==d)d=c.cssEase._default;var b=o(b),k=s(a,b,d,g),m=c.transit.enabled&&h.transition?parseInt(b)+parseInt(g):0;if(0===m)return r(f,j,function(b){f.css(a);e&&e();b()}),f;var l={},n=function(b){f.each(function(){0<m&&(this.style[h.transition]=k);c(this).css(a)});var d=!1,g=function(){d&&
f.unbind(p,g);0<m&&f.each(function(){this.style[h.transition]=l[this]});"function"===typeof e&&e.apply(f);"function"===typeof b&&b()};0<m&&p?(d=!0,f.bind(p,g)):window.setTimeout(g,m)};r(f,j,function(a){var b=0;"MozTransition"===h.transition&&25>b&&(b=25);window.setTimeout(function(){n(a)},b)});return this};c.transit.getTransitionValue=s})(jQuery);
